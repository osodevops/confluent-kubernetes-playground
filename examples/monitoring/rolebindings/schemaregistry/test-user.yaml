apiVersion: platform.confluent.io/v1beta1
kind: KafkaTopic
metadata:
  name: brand-new-topic
spec:
  kafkaClusterRef:
    name: kafka
    namespace: sandbox
  kafkaRest:
    authentication:
      type: bearer
      bearer:
        secretRef: mds-client-c3
    endpoint: http://kafka.sandbox.svc.cluster.local:8090
  configs:
    confluent.key.schema.validation: "true"
---
apiVersion: platform.confluent.io/v1beta1
kind: ConfluentRolebinding
metadata:
  name: brand-new-topic
spec:
  clustersScopeByIds:
    schemaRegistryClusterId: id_schemaregistry_sandbox
  principal:
    name: alice
    type: user
  resourcePatterns:
    - name: value_brand-new-topics
      patternType: LITERAL
      resourceType: Subject
  role: ResourceOwner